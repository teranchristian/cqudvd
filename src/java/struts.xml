<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts> 
    <package name="default"  namespace="/" extends="struts-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
        </result-types>

        <global-results>
            <result name="welcome" type="tiles">welcome</result>
        </global-results>
        
        <action name="addUser" class="controller.UserController" method="addUser" >
            <result name="success" type="tiles">add</result>
        </action>
        
        <action name="activate" class="controller.UserController" method="activate" >
            <result name="success" type="tiles">login</result>
        </action>
        
        <action name="validate" class="controller.UserController" method="validate" >
            <result name="error" type="tiles">login</result> 
            <result name="admin" type="tiles">admin</result>    
        </action>
        <action name="logout" class="controller.UserController" method="logout" >
            <result name="success" type="tiles">welcome</result>   
        </action>
        <action name="index" class="controller.UserController" method="welcome" >
            <result name="admin" type="tiles">admin</result>   
            <result name="user" type="tiles">welcome</result>   
        </action>
        <action name="*" method="{1}" class="controller.ActionLinkController">                        
            <result name="login" type="tiles">login</result>
            <result name="signUp" type="tiles">signUp</result>
        </action>                
    </package>
    
    <package name="default1"  namespace="/user" extends="struts-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
        </result-types>
        
        <interceptors>
            <interceptor class="controller.UserInterceptor" name="UserInterceptor"/>                
            <interceptor-stack name="loginStack">
                <interceptor-ref name="UserInterceptor"/>
                <interceptor-ref name="defaultStack"/>
            </interceptor-stack>
        </interceptors>     
        
       
                        
        <action name="userDetail" class="controller.UserController" method="userDetail" >
            <result name="userDetail" type="tiles">userDetail</result>
        </action>
        
        <action name="userPassword" class="controller.UserController" method="userPassword" >
            <result name="userPassword" type="tiles">userPassword</result>
        </action> 
        
        <action name="changePassword" class="controller.UserController" method="changePassword" >
            <result name="success" type="tiles">welcome</result>
        </action>  
                
        <action name="updateUser" class="controller.UserController" method="updateUser" >
            <result name="success" type="tiles">welcome</result>
        </action>
    </package>
    
    <package name="default2"  namespace="/admin" extends="struts-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
        </result-types>         
                 
         <action name="*" method="adminPanel" class="controller.UserController">            
            <result name="success" type="tiles">login</result>
        </action> 
                 
        <action name="genre" class="controller.GenreController" method="genreList" >
            <result name="success" type="tiles">genreList</result>
        </action>
        <action name="deleteGenre" class="controller.GenreController" method="deleteGenre" >
            <result name="success" type="redirect">genre</result>
        </action>
        
        <action name="addGenre" class="controller.GenreController" method="addGenre" >
            <result name="success" type="tiles">addGenre</result>
        </action>
        <action name="insertGenre" class="controller.GenreController" method="insertGenre" >
            <result name="success" type="tiles">addGenre</result>
        </action>
        <action name="edit" class="controller.GenreController" method="editGenre" >
            <result name="success" type="tiles">editGenre</result>
        </action>
        <action name="updateGenre" class="controller.GenreController" method="updateGenre" >
            <result name="success" type="redirect">genre</result>
            <result name="fail" type="tiles">editGenre</result>
        </action>    
        
        <action name="movies" class="controller.MovieController" method="list" >
            <result name="success" type="tiles">movieList</result>
        </action>
        <action name="addMovie" class="controller.MovieController" method="addMovie" >
            <result name="success" type="tiles">addMovie</result>
        </action>
        <action name="insertMovie" class="controller.MovieController" method="insertMovie" >
            <result name="success" type="tiles">addMovie</result>
        </action>
        <action name="deleteMovie" class="controller.MovieController" method="deleteMovie" >
            <result name="success" type="redirect">movies</result>
        </action>
        
    </package>
</struts>
